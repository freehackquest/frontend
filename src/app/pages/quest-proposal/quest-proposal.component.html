<h1 l10nTranslate>proposalQuest</h1>

<div class="alert alert-danger" *ngIf="!_fhq.isAuthorized">
  <label l10nTranslate>pleaseAuthorize</label>
  <div class="btn btn-primary" (click)="openDialogSignIn()" l10nTranslate>signin</div>
</div>

<div class="alert alert-success" *ngIf="successSended">
  <label>Thanks! Admin will check this later</label>
  <hr>
  <div class="btn btn-primary" (click)="tryNewQuest()" l10nTranslate>tryNewQuest</div>
</div>

<div *ngIf="_fhq.isAuthorized && !successSended">
  <div class="form-group row">
    <div class="col-sm-6">
      <label>Игра</label>
      <div class="input-group mb-3">
        <select class="form-control" #gameId>
            <option *ngFor="let g of listGames" value="{{ g.local_id }}">{{ g.name }}</option>
        </select>
      </div>
    </div>
    <div class="col-sm-6">
      <label for="basic-url">Название квеста</label>
      <div class="input-group mb-3">
        <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3" #questName>
      </div>
    </div>
  </div>

  <div class="form-group row w-100">
      <div class="col-sm-12 w-100">
        <label>Текст задачи</label>
        <div class="input-group mb-3">
          <md-editor name="Content" 
            [(ngModel)]="questContent" 
            [height]="'250px'" 
            [mode]="editor" 
            [options]="options" 
            required 
            class="w-100"
            maxlength="4096">
          </md-editor>
          <i>
            Files please upload to your cloud disk (google/yandex/dropbox...) or to any web resource which admin has access for download it.
            And put link to quest text.
          </i>
      </div>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-6">
      <label>Раздел</label>
      <div class="input-group mb-3">
        <select class="form-control" #questSubject>
          <option value="trivia">Trivia</option>
          <option value="hashes">Hashes</option>
          <option value="stego">Stego</option>
          <option value="reverse">Reverse</option>
          <option value="recon">Recon</option>
          <option value="crypto">Crypto</option>
          <option value="forensics">Forensics</option>
          <option value="network">Network</option>
          <option value="web">Web</option>
          <option value="ppc">PPC</option>
          <option value="admin">Admin</option>
          <option value="enjoy">Enjoy</option>
          <option value="unknown">Unknown</option>
        </select>
      </div>
    </div>
    <div class="col-sm-6">
      <label>Очки (+)</label>
      <div class="input-group mb-3">
        <input type="number" class="form-control" aria-describedby="basic-addon3" #questScore>
      </div>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-6">
      <label>Формат ответа</label>
      <div class="input-group mb-3">
          <input type="text" class="form-control" aria-describedby="basic-addon3" #questAnswerFormat>
      </div>
    </div>
    <div class="col-sm-6">
      <label>Ответ</label>
      <div class="input-group mb-3">
        <input type="text" class="form-control" aria-describedby="basic-addon3" #questAnswer>
      </div>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-6">
      <label>Автор</label>
      <div class="input-group mb-3">
          <input type="text" class="form-control" aria-describedby="basic-addon3" #questAuthor>
      </div>
    </div>
    <div class="col-sm-6">
      <label>Авторские права</label>
      <div class="input-group mb-3">
        <input type="text" class="form-control" aria-describedby="basic-addon3" #questCopyright>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-12">
      <div class="btn btn-danger" (click)="sendQuestProposal()" l10nTranslate>send</div>
      <div class="alert alert-danger" *ngIf="errorMessage != null"> {{ errorMessage }} </div>
      
    </div>
  </div>
</div>
